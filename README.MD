# 简介

本脚本实现了锐捷 ePortal Web 认证的登录，需要 curl 指令的支持。

如果你想将本脚本用于你的学校，需要对脚本中的部分内容进行适当的修改。

这个脚本的主要是用 curl 发送认证所需的 POST 数据包实现 Web 认证。

我主要将这个代码用于 Openwrt 路由器上，实现每天早上自动认证锐捷（因为我所在的学校每天晚上断网了之后隔天早上得重新认证）。

# 局限性

在锐捷 ePortal Web 认证的 POST 数据包中发现了 validcode 参数，根据名字猜测这个参数应该是验证码。

我所在的学校并没有开启验证码，如果你的学校在登录的时候需要验证码，那么本脚本将无法进行认证。

同时本脚本代码编写的很乱，工作效率不高。

# 吐槽

锐捷的 ePortal Web 认证上了之后，向 InterFace.do?method=getOnlineUserInfo 这个接口中 Post 过去 userIndex 参数会明文显示用户的密码，感觉一点安全性都没有。

以及，我所在的学校在未认证的情况下，53端口(DNS)是可以正常通信的，可以尝试搭建个53端口的代理实现免认证上网（未测试，不保证能成功）。